<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>文笔馨 - 英语写作辅助教学</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Crimson+Pro:wght@400;500;600&family=Quicksand:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Quicksand', sans-serif;
            background-color: #f9f7f3;
            color: #4a4a4a;
            line-height: 1.6;
            background-image: url('data:image/svg+xml;utf8,<svg width="100" height="100" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><path d="M20,20 Q40,5 60,20 T100,20" stroke="%23e8e4dc" fill="none" stroke-width="0.5"/><path d="M0,40 Q20,25 40,40 T80,40" stroke="%23e8e4dc" fill="none" stroke-width="0.5"/><path d="M30,60 Q50,45 70,60 T100,60" stroke="%23e8e4dc" fill="none" stroke-width="0.5"/></svg>');
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            text-align: center;
            padding: 30px 0;
            margin-bottom: 30px;
            border-bottom: 1px solid #e8e4dc;
        }
        
        .logo {
            font-family: 'Crimson Pro', serif;
            font-size: 2.8rem;
            color: #8b7355;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .logo i {
            margin-right: 15px;
            color: #d4a96a;
        }
        
        .tagline {
            font-size: 1.2rem;
            color: #a0937d;
            font-weight: 500;
        }
        
        .main-content {
            display: flex;
            flex-wrap: wrap;
            gap: 30px;
            margin-bottom: 40px;
        }
        
        .left-panel, .right-panel {
            flex: 1;
            min-width: 300px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(139, 115, 85, 0.08);
            padding: 25px;
            border: 1px solid #f0ebe3;
        }
        
        .panel-title {
            font-family: 'Crimson Pro', serif;
            font-size: 1.8rem;
            color: #8b7355;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px dashed #e8e4dc;
            display: flex;
            align-items: center;
        }
        
        .panel-title i {
            margin-right: 10px;
        }
        
        .upload-area {
            border: 2px dashed #d4a96a;
            border-radius: 8px;
            padding: 40px 20px;
            text-align: center;
            margin-bottom: 25px;
            background-color: #fefcf7;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .upload-area:hover {
            background-color: #fdf8ee;
            border-color: #c19a5f;
        }
        
        .upload-icon {
            font-size: 3rem;
            color: #d4a96a;
            margin-bottom: 15px;
        }
        
        .upload-text {
            color: #8b7355;
            font-size: 1.1rem;
            margin-bottom: 10px;
        }
        
        .upload-hint {
            color: #a0937d;
            font-size: 0.9rem;
        }
        
        textarea {
            width: 100%;
            min-height: 300px;
            padding: 15px;
            border: 1px solid #e8e4dc;
            border-radius: 8px;
            font-family: 'Quicksand', sans-serif;
            font-size: 1rem;
            resize: vertical;
            line-height: 1.6;
            background-color: #fefcf7;
            transition: border-color 0.3s ease;
        }
        
        textarea:focus {
            outline: none;
            border-color: #d4a96a;
        }
        
        .button-group {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }
        
        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 6px;
            font-family: 'Quicksand', sans-serif;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .btn-primary {
            background-color: #8b7355;
            color: white;
            flex: 2;
        }
        
        .btn-primary:hover {
            background-color: #7a6348;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(139, 115, 85, 0.2);
        }
        
        .btn-secondary {
            background-color: #f0ebe3;
            color: #8b7355;
            flex: 1;
        }
        
        .btn-secondary:hover {
            background-color: #e8e4dc;
        }
        
        .error-section {
            margin-bottom: 25px;
        }
        
        .error-count {
            display: flex;
            align-items: center;
            justify-content: space-between;
            background-color: #fdf8ee;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            border-left: 4px solid #d4a96a;
        }
        
        .error-item {
            background-color: #fefcf7;
            border: 1px solid #f0ebe3;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            transition: all 0.3s ease;
        }
        
        .error-item:hover {
            border-color: #e8d3b6;
            box-shadow: 0 3px 8px rgba(0, 0, 0, 0.05);
        }
        
        .error-type {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-bottom: 8px;
        }
        
        .grammar-error {
            background-color: #ffeaea;
            color: #c45c5c;
        }
        
        .spelling-error {
            background-color: #e6f3ff;
            color: #4a7ba6;
        }
        
        .vocabulary-error {
            background-color: #f0f7e6;
            color: #6d8c54;
        }
        
        .suggestion-error {
            background-color: #f5f0ff;
            color: #7b5db0;
        }
        
        .error-text {
            margin-bottom: 8px;
            font-size: 1.05rem;
        }
        
        .original-text {
            color: #c45c5c;
            text-decoration: line-through;
            margin-right: 5px;
        }
        
        .corrected-text {
            color: #4a7ba6;
            font-weight: 500;
        }
        
        .suggestion-text {
            color: #6d8c54;
            font-style: italic;
            margin-top: 8px;
            padding-left: 10px;
            border-left: 2px solid #d4a96a;
        }
        
        .improvement-section {
            background-color: #fdf8ee;
            border-radius: 8px;
            padding: 20px;
            margin-top: 25px;
            border: 1px solid #f0ebe3;
        }
        
        .improvement-title {
            font-family: 'Crimson Pro', serif;
            font-size: 1.5rem;
            color: #8b7355;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }
        
        .improvement-title i {
            margin-right: 10px;
        }
        
        .improvement-item {
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px dashed #e8e4dc;
        }
        
        .improvement-item:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }
        
        .improvement-category {
            font-weight: 600;
            color: #7a6348;
            margin-bottom: 5px;
            display: flex;
            align-items: center;
        }
        
        .improvement-category i {
            margin-right: 8px;
            color: #d4a96a;
        }
        
        .improvement-desc {
            color: #4a4a4a;
            padding-left: 26px;
        }
        
        .score-display {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: linear-gradient(135deg, #fdf8ee 0%, #f9f1e1 100%);
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
            border: 1px solid #f0ebe3;
        }
        
        .score-label {
            font-size: 1.1rem;
            color: #8b7355;
            font-weight: 600;
        }
        
        .score-value {
            font-family: 'Crimson Pro', serif;
            font-size: 2.2rem;
            color: #d4a96a;
            font-weight: 600;
        }
        
        .highlight-grammar {
            background-color: #ffeaea;
            padding: 0 2px;
            border-radius: 2px;
        }
        
        .highlight-spelling {
            background-color: #e6f3ff;
            padding: 0 2px;
            border-radius: 2px;
        }
        
        .highlight-vocabulary {
            background-color: #f0f7e6;
            padding: 0 2px;
            border-radius: 2px;
        }
        
        footer {
            text-align: center;
            padding: 20px 0;
            color: #a0937d;
            font-size: 0.9rem;
            border-top: 1px solid #e8e4dc;
            margin-top: 30px;
        }
        
        .sample-text {
            color: #8b7355;
            text-decoration: underline;
            cursor: pointer;
            font-size: 0.9rem;
            margin-top: 10px;
            display: inline-block;
        }
        
        .sample-text:hover {
            color: #7a6348;
        }
        
        @media (max-width: 768px) {
            .main-content {
                flex-direction: column;
            }
            
            .logo {
                font-size: 2.2rem;
            }
            
            .panel-title {
                font-size: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <i class="fas fa-feather-alt"></i>
                文笔馨
            </div>
            <div class="tagline">AI-Powered English Writing Assistant for High School Students</div>
        </header>
        
        <div class="main-content">
            <div class="left-panel">
                <div class="panel-title">
                    <i class="fas fa-edit"></i>
                    作文输入
                </div>
                
                <div class="upload-area" id="uploadArea">
                    <div class="upload-icon">
                        <i class="fas fa-cloud-upload-alt"></i>
                    </div>
                    <div class="upload-text">点击或拖拽上传作文文件</div>
                    <div class="upload-hint">支持.txt, .doc, .docx格式，或直接在下方输入</div>
                </div>
                
                <div>
                    <textarea id="essayInput" placeholder="请在此输入或粘贴您的英语作文...">In today's society, technology plays a important role in our daily lifes. Many teenager spend to much time on their phones, which can effected their study. Some people think that we should limiting screen time for students.

Personally, I agrees with this opinion. First, spending to much time on screens can lead to eye strain and poor sleep. Second, it can distracting students from they homework and reduce they academic performance. However, I also believe that technology can be useful for learning if we use it correctly.

In conclusion, we should find a balance between using technology and focusing on study. This will help students to achievement better results in school and maintain good health.</textarea>
                </div>
                
                <div class="sample-text" id="loadSample">
                    <i class="fas fa-magic"></i> 加载示例作文
                </div>
                
                <div class="button-group">
                    <button class="btn btn-primary" id="analyzeBtn">
                        <i class="fas fa-search"></i> 分析作文
                    </button>
                    <button class="btn btn-secondary" id="clearBtn">
                        <i class="fas fa-redo"></i> 清空
                    </button>
                </div>
                
                <div class="score-display">
                    <div class="score-label">作文评分</div>
                    <div class="score-value" id="scoreValue">-</div>
                </div>
            </div>
            
            <div class="right-panel">
                <div class="panel-title">
                    <i class="fas fa-lightbulb"></i>
                    分析与建议
                </div>
                
                <div class="error-section">
                    <div class="error-count">
                        <div>发现 <strong id="errorCount">0</strong> 处可改进的地方</div>
                        <div><i class="fas fa-exclamation-triangle"></i></div>
                    </div>
                    
                    <div id="errorList">
                        <!-- 错误列表将通过JavaScript动态生成 -->
                    </div>
                </div>
                
                <div class="improvement-section">
                    <div class="improvement-title">
                        <i class="fas fa-chart-line"></i>
                        写作提升建议
                    </div>
                    
                    <div id="improvementList">
                        <!-- 改进建议将通过JavaScript动态生成 -->
                    </div>
                </div>
            </div>
        </div>
        
        <footer>
            <p>文笔馨英语写作辅助教学工具 &copy; 2023 | 专为高中生设计</p>
            <p>本工具旨在辅助英语写作学习，建议结合教师指导使用</p>
        </footer>
    </div>

    <script>
        // 初始化DOM元素
        const essayInput = document.getElementById('essayInput');
        const analyzeBtn = document.getElementById('analyzeBtn');
        const clearBtn = document.getElementById('clearBtn');
        const uploadArea = document.getElementById('uploadArea');
        const errorList = document.getElementById('errorList');
        const improvementList = document.getElementById('improvementList');
        const errorCount = document.getElementById('errorCount');
        const scoreValue = document.getElementById('scoreValue');
        const loadSample = document.getElementById('loadSample');
        
        // 示例作文
        const sampleEssay = `The Importance of Reading

Reading is a essentail skill for students. It help us to gain knowledge and expand our worldview. However, many student today don't like to read books because they prefer to watch videos or playing games.

In my opinion, reading books have many benefits. First, it improve our vocabulary and language skills. When we read, we encounter new words and learn how to use them. Second, reading enhance our imagination and creativity. Unlike videos, books require us to imagine the scenes and characters in our mind.

To encourage more students to read, schools can organize reading clubs and provide a variety of interesting books. Parents can also set a example by reading themselves. If we make reading a habit, we will discovery a wonderful world of knowledge and stories.

In conclusion, reading is not only important for academic success, but also for personal growth. We should all try to spend more time with books.`;

        // 加载示例作文
        loadSample.addEventListener('click', function() {
            essayInput.value = sampleEssay;
        });
        
        // 清空作文
        clearBtn.addEventListener('click', function() {
            essayInput.value = '';
            errorList.innerHTML = '';
            improvementList.innerHTML = '';
            errorCount.textContent = '0';
            scoreValue.textContent = '-';
        });
        
        // 上传区域功能
        uploadArea.addEventListener('click', function() {
            // 在实际应用中，这里应该触发文件选择对话框
            // 为简化演示，我们直接提示
            alert('在实际应用中，这里会上传文件。为演示目的，请直接在文本框中输入或粘贴作文。');
        });
        
        // 拖放上传功能
        uploadArea.addEventListener('dragover', function(e) {
            e.preventDefault();
            uploadArea.style.backgroundColor = '#fdf8ee';
            uploadArea.style.borderColor = '#c19a5f';
        });
        
        uploadArea.addEventListener('dragleave', function() {
            uploadArea.style.backgroundColor = '#fefcf7';
            uploadArea.style.borderColor = '#d4a96a';
        });
        
        uploadArea.addEventListener('drop', function(e) {
            e.preventDefault();
            uploadArea.style.backgroundColor = '#fefcf7';
            uploadArea.style.borderColor = '#d4a96a';
            alert('在实际应用中，这里会处理上传的文件。为演示目的，请直接在文本框中输入或粘贴作文。');
        });
        
        // 分析作文功能
        analyzeBtn.addEventListener('click', function() {
            const essay = essayInput.value.trim();
            
            if (!essay) {
                alert('请输入或上传一篇作文进行分析。');
                return;
            }
            
            // 显示加载状态
            analyzeBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> 分析中...';
            analyzeBtn.disabled = true;
            
            // 模拟分析延迟
            setTimeout(function() {
                // 分析作文并显示结果
                const analysisResult = analyzeEssay(essay);
                displayErrors(analysisResult.errors);
                displayImprovements(analysisResult.improvements);
                errorCount.textContent = analysisResult.errors.length;
                scoreValue.textContent = analysisResult.score;
                
                // 恢复按钮状态
                analyzeBtn.innerHTML = '<i class="fas fa-search"></i> 分析作文';
                analyzeBtn.disabled = false;
            }, 1500);
        });
        
        // 作文分析逻辑
        function analyzeEssay(essay) {
            // 在实际应用中，这里会调用AI或语法检查API
            // 这里我们使用模拟数据来演示
            
            const errors = [];
            const improvements = [];
            
            // 模拟语法错误检测
            if (essay.includes('a important')) {
                errors.push({
                    type: 'grammar',
                    original: 'a important',
                    corrected: 'an important',
                    suggestion: '不定冠词"a"后接以元音音素开头的单词时应改为"an"',
                    position: essay.indexOf('a important')
                });
            }
            
            if (essay.includes('daily lifes')) {
                errors.push({
                    type: 'spelling',
                    original: 'daily lifes',
                    corrected: 'daily lives',
                    suggestion: '"life"的复数形式是"lives"',
                    position: essay.indexOf('daily lifes')
                });
            }
            
            if (essay.includes('to much time')) {
                errors.push({
                    type: 'vocabulary',
                    original: 'to much time',
                    corrected: 'too much time',
                    suggestion: '"too much"表示"过多"，而"to"是介词',
                    position: essay.indexOf('to much time')
                });
            }
            
            if (essay.includes('effected their study')) {
                errors.push({
                    type: 'vocabulary',
                    original: 'effected',
                    corrected: 'affected',
                    suggestion: '"affect"是动词表示影响，"effect"是名词表示结果',
                    position: essay.indexOf('effected their study')
                });
            }
            
            if (essay.includes('limiting screen time')) {
                errors.push({
                    type: 'grammar',
                    original: 'should limiting',
                    corrected: 'should limit',
                    suggestion: '情态动词"should"后应接动词原形',
                    position: essay.indexOf('limiting screen time')
                });
            }
            
            if (essay.includes('I agrees')) {
                errors.push({
                    type: 'grammar',
                    original: 'I agrees',
                    corrected: 'I agree',
                    suggestion: '第一人称单数"I"应接动词原形',
                    position: essay.indexOf('I agrees')
                });
            }
            
            if (essay.includes('distracting students')) {
                errors.push({
                    type: 'grammar',
                    original: 'can distracting',
                    corrected: 'can distract',
                    suggestion: '情态动词"can"后应接动词原形',
                    position: essay.indexOf('distracting students')
                });
            }
            
            if (essay.includes('they homework')) {
                errors.push({
                    type: 'grammar',
                    original: 'they homework',
                    corrected: 'their homework',
                    suggestion: '这里需要用物主代词"their"表示"他们的"',
                    position: essay.indexOf('they homework')
                });
            }
            
            if (essay.includes('they academic performance')) {
                errors.push({
                    type: 'grammar',
                    original: 'they academic',
                    corrected: 'their academic',
                    suggestion: '这里需要用物主代词"their"表示"他们的"',
                    position: essay.indexOf('they academic performance')
                });
            }
            
            if (essay.includes('to achievement')) {
                errors.push({
                    type: 'vocabulary',
                    original: 'to achievement',
                    corrected: 'to achieve',
                    suggestion: '"to"后应接动词原形，"achievement"是名词',
                    position: essay.indexOf('to achievement')
                });
            }
            
            // 添加改进建议
            improvements.push({
                category: '句子结构',
                description: '尝试使用更复杂的句子结构，如复合句或从句，以提升文章层次感。'
            });
            
            improvements.push({
                category: '词汇多样性',
                description: '可以替换一些常用词汇，如将"important"替换为"crucial", "significant"或"vital"。'
            });
            
            improvements.push({
                category: '段落衔接',
                description: '考虑在段落之间添加过渡词，如"Furthermore", "Moreover", "On the other hand"等。'
            });
            
            improvements.push({
                category: '论证深度',
                description: '可以添加具体例子或数据来支持观点，使论证更有说服力。'
            });
            
            // 计算模拟分数 (基于错误数量)
            let score = 85 - errors.length * 2;
            if (score < 60) score = 60;
            if (score > 95) score = 95;
            
            return {
                errors: errors,
                improvements: improvements,
                score: score
            };
        }
        
        // 显示错误列表
        function displayErrors(errors) {
            if (errors.length === 0) {
                errorList.innerHTML = '<div class="error-item" style="text-align: center; color: #6d8c54;"><i class="fas fa-check-circle" style="font-size: 2rem; margin-bottom: 10px;"></i><p>恭喜！未发现明显的语法或拼写错误。</p></div>';
                return;
            }
            
            let html = '';
            
            errors.forEach((error, index) => {
                let typeClass = '';
                let typeText = '';
                
                switch(error.type) {
                    case 'grammar':
                        typeClass = 'grammar-error';
                        typeText = '语法错误';
                        break;
                    case 'spelling':
                        typeClass = 'spelling-error';
                        typeText = '拼写错误';
                        break;
                    case 'vocabulary':
                        typeClass = 'vocabulary-error';
                        typeText = '用词错误';
                        break;
                    default:
                        typeClass = 'suggestion-error';
                        typeText = '改进建议';
                }
                
                html += `
                <div class="error-item">
                    <div class="error-type ${typeClass}">${typeText}</div>
                    <div class="error-text">
                        <span class="original-text">"${error.original}"</span> → 
                        <span class="corrected-text">"${error.corrected}"</span>
                    </div>
                    <div class="suggestion-text">
                        <i class="fas fa-lightbulb"></i> ${error.suggestion}
                    </div>
                </div>
                `;
            });
            
            errorList.innerHTML = html;
            
            // 高亮显示文本中的错误
            highlightErrorsInText(errors);
        }
        
        // 在文本中高亮显示错误
        function highlightErrorsInText(errors) {
            let text = essayInput.value;
            let highlightedText = text;
            
            // 为了简单起见，我们只高亮前几个错误
            errors.slice(0, 5).forEach(error => {
                const regex = new RegExp(`(${escapeRegExp(error.original)})`, 'gi');
                let highlightClass = '';
                
                switch(error.type) {
                    case 'grammar':
                        highlightClass = 'highlight-grammar';
                        break;
                    case 'spelling':
                        highlightClass = 'highlight-spelling';
                        break;
                    case 'vocabulary':
                        highlightClass = 'highlight-vocabulary';
                        break;
                }
                
                highlightedText = highlightedText.replace(regex, `<span class="${highlightClass}">$1</span>`);
            });
            
            // 创建临时元素显示高亮文本
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = `<div style="background-color: #fefcf7; padding: 15px; border-radius: 8px; border: 1px solid #e8e4dc; margin-top: 15px;">
                <h4 style="color: #8b7355; margin-bottom: 10px;"><i class="fas fa-highlighter"></i> 作文中的错误高亮</h4>
                <div style="white-space: pre-wrap; line-height: 1.6;">${highlightedText}</div>
            </div>`;
            
            // 插入到错误列表后
            errorList.appendChild(tempDiv);
        }
        
        // 正则表达式转义
        function escapeRegExp(string) {
            return string.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
        }
        
        // 显示改进建议
        function displayImprovements(improvements) {
            let html = '';
            
            improvements.forEach(improvement => {
                html += `
                <div class="improvement-item">
                    <div class="improvement-category">
                        <i class="fas fa-star"></i> ${improvement.category}
                    </div>
                    <div class="improvement-desc">${improvement.description}</div>
                </div>
                `;
            });
            
            improvementList.innerHTML = html;
        }
        
        // 页面加载时分析示例作文
        window.addEventListener('DOMContentLoaded', function() {
            // 模拟点击分析按钮
            setTimeout(() => {
                analyzeBtn.click();
            }, 500);
        });
    </script>
</body>
</html>